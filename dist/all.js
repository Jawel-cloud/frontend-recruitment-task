const button=document.querySelector("button"),popupWrapper=document.querySelector(".popupWrapper"),popup=document.querySelector(".popup"),popupBoldText=document.querySelector(".popupBoldText"),buttonX=document.querySelector(".buttonX"),buttonReset=document.querySelector(".buttonReset");let counterInStorage=null!==localStorage.getItem("counterInStorage")?JSON.parse(localStorage.getItem("counterInStorage")):0,counter=parseInt(counterInStorage),popupActive=!1;button.addEventListener("click",()=>{4<=counter&&(buttonReset.style.display="block"),popupActive||(popupWrapper.style.display="block",window.localStorage.clear(),window.localStorage.setItem("counterInStorage",JSON.stringify(counter+1)),counter++,popupBoldText.textContent=counter+" times",popupActive=!0)}),popupWrapper.addEventListener("click",function(e){!popupActive||popup.contains(e.target)||(popupWrapper.style.display="none",popupActive=!1)}),buttonX.addEventListener("click",function(e){popupWrapper.style.display="none",popupActive=!1}),buttonReset.addEventListener("click",()=>{window.localStorage.clear(),counter=0,popupBoldText.textContent=counter+" times",buttonReset.style.display="none"});